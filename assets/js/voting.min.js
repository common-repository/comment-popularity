!function(a){"use strict";a(function(){var b=!1;a("div.comment-weight-container").on("click","span > a",_.throttle(function(c){c.preventDefault();var d=0,e=a(this).data("commentId"),f=a(this).closest("span").attr("class");if("upvote"!==f&&a(this).hasClass("vote-up")?d="upvote":"downvote"!==f&&a(this).hasClass("vote-down")?d="downvote":("downvote"===f&&a(this).hasClass("vote-down")||"upvote"===f&&a(this).hasClass("vote-up"))&&(d="undo"),!1===b){b=!0;var g=a.post(comment_popularity.ajaxurl,{action:"comment_vote_callback",vote:d,comment_id:e,hmn_vote_nonce:comment_popularity.hmn_vote_nonce});g.done(function(c){var d=a("#comment-weight-value-"+c.data.comment_id);if(c.success===!1)a.growl.error({message:c.data.error_message});else{if(d.text(c.data.weight),d.closest(".comment-weight-container ").children().removeClass(),"undo"!==c.data.vote_type)switch(d.addClass(c.data.vote_type),c.data.vote_type){case"upvote":d.prev().addClass(c.data.vote_type);break;case"downvote":d.next().addClass(c.data.vote_type)}a.growl.notice({message:c.data.success_message})}b=!1})}},500))})}(jQuery);